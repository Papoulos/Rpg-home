<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu de RÃ´le en Ligne</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <aside class="panel left-panel">
            <h2>Chat</h2>
            <div class="chat-messages" id="chat-messages">
                <!-- Les messages du chat apparaÃ®tront ici -->
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="Ã‰crivez votre message...">
                <button id="send-button">Envoyer</button>
            </div>
            <div class="dice-roller">
                <h3>Lancer de dÃ©s</h3>
                <button class="dice-button" data-die="4">4</button>
                <button class="dice-button" data-die="6">6</button>
                <button class="dice-button" data-die="10">10</button>
                <button class="dice-button" data-die="20">20</button>
                <button class="dice-button" data-die="100">100</button>
            </div>
        </aside>
        <main class="main-content">
            <div class="main-display">
                <div id="carte-content" class="tab-content">
                    <!-- ContrÃ´les pour le MJ, cachÃ©s par dÃ©faut -->
                    <div class="image-controls hidden">
                        <select id="image-select">
                            <option value="">Choisir une image</option>
                        </select>
                        <button id="add-image-btn" class="control-btn btn-add" title="Ajouter une image">+</button>
                        <button id="delete-image-btn" class="control-btn btn-delete" title="Supprimer l'image">-</button>
                    </div>

                    <!-- Zone d'affichage de l'image, visible par tous -->
                    <div id="image-display-area">
                        <p>Aucune image sÃ©lectionnÃ©e.</p>
                    </div>
                </div>
                <div id="pj-content" class="tab-content">
                    <div class="sheets-controls">
                        <select id="sheet-select">
                            <option value="">Choisir une fiche</option>
                        </select>
                        <button id="add-sheet-btn" class="control-btn btn-add" title="Ajouter une fiche">+</button>
                        <button id="delete-sheet-btn" class="control-btn btn-delete" title="Supprimer la fiche">-</button>
                    </div>
                    <div id="sheet-display-area">
                        <!-- L'iframe de la Google Sheet ira ici -->
                    </div>
                </div>
                <div id="prez-content" class="tab-content" style="height: 100%;">
                    <div id="whiteboard-container" style="width: 100%; height: 100%;"></div>
                </div>
                <div id="fabric-content" class="tab-content" style="height: 100%;">
                    <canvas id="fabric-canvas"></canvas>
                </div>
            </div>
            <nav class="main-menu">
                <a href="#carte" class="menu-item" data-target="carte-content">Carte</a>
                <a href="#pj" class="menu-item" data-target="pj-content">PJ</a>
                <a href="#prez" class="menu-item" data-target="prez-content">Prez</a>
                <a href="#fabric" class="menu-item" data-target="fabric-content">Fabric</a>
            </nav>
        </main>
        <aside class="panel right-panel">
            <div class="panel-header">
                <h2>VidÃ©o</h2>
                <div id="global-controls">
                    <button id="mute-mic-btn" title="Couper le micro">ðŸŽ¤</button>
                    <button id="toggle-video-btn" title="DÃ©sactiver la camÃ©ra">ðŸ“·</button>
                </div>
            </div>
            <div id="video-grid">
                <!-- Les flux vidÃ©o apparaÃ®tront ici -->
            </div>
        </aside>
    </div>

    <!-- Panel Toggles -->
    <button id="toggle-chat-btn" title="Cacher le panneau de chat">Â«</button>
    <button id="toggle-video-panel-btn" title="Cacher le panneau de vidÃ©o">Â»</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <script src="navigation.js" defer></script>
    <script src="script.js" defer></script>
    <script src="sheets.js" defer></script>
    <script src="images.js" defer></script>
    <script src="fabric-whiteboard.js" defer></script>
</body>
</html>
